<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:aop="http://www.springframework.org/schema/aop"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
		http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.3.xsd">
	
	<bean id="audience" class="concert.BeforeAfterAudienceXML"/>
	
	<bean id="peformance" class="concert.SuccessPerformance" />
	
	<aop:config>
		<aop:aspect ref="audience">	<!-- audience빈에 있는 메서드를 바탕으로 프록시 생성. -->
			
			<!-- audience 빈의 silenceCellPhones 메서드를 포인트컷에 해당하는 메서드가 실행 전에 적용 -->
			<aop:before method="silenceCellPhones" pointcut="execution(* concert.Performance.perform(..))"/>
			<!-- audience 빈의 takeSeats 메서드를 포인트컷에 해당하는 메서드가 실행 전에 적용 -->
			<aop:before method="takeSeats" pointcut="execution(* concert.Performance.perform(..))" />
			<!-- audience 빈의 applause 메서드를 포인트컷에 해당하는 메서드가  성공적으로 실행 후에 적용 -->
			<aop:after-returning method="applause" pointcut="execution(* concert.Performance.perform(..))" />
			<!-- audience 빈의 demandRefund 메서드를 포인트컷에 해당하는 메서드가 실행 실패 후에 적용 -->
			<aop:after-throwing method="demandRefund" pointcut="execution(* concert.Performance.perform(..))"/>
			
		</aop:aspect>
	</aop:config>
</beans>
